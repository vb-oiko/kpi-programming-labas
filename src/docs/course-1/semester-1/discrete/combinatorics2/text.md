# Розрахункова робота

## Група ІС-02. Бойко Василь Олександрович

### Дискретна математика. Комбінаторика. Задача 2. Варіант 2.

Вибір ненумерованих об'єктів.

Букет квітів може містити хризантеми, троянди, ромашки та півонії. Всі квіти вважаються ненумерованими, тобто квіти одного виду не розрізняються. Порядок квітів в букеті не має значення. Скільки можна скласти різних букетів із $n$ квітів, якщо кожен букет повинен містити не менш ніж $k_1$ і не більш ніж $n_1$ хризантем, не менш ніж $k_2$ і не більш ніж $n_2$ троянд, не менш ніж $k_3$ і не більш ніж $n_3$ ромашок, не менш ніж $k_4$ і не більш ніж $n_4$ півоній.

$$n=10, \;
k_1=2, \;
n_1=4, \;
k_2=3, \;
n_2=5, \;
k_3=1, \;
n_3=3, \;
k_4=1, \;
n_4=4
$$


### Розв'язок

Перейдемо до задачі без обмежень знизу. Тобто будемо вважати, що букет вже містить 2 хризантеми, 3 троянди, 1 ромашку та 1 півонію. Тобто букет вже містить 7 квітів. Таким чином букет, який ми будемо додавати до мінімально необхідної кількості, буде містити $\tilde{n}=n-(k_1+k_2+k_3+k_4)=3$ квітки, серед яких не більш ніж $\tilde{n_1}=n_1-k_1=2$ хризантеми, не більш ніж $\tilde{n_2}=n_2-k_2=2$ троянди, не більш ніж $\tilde{n_3}=n_3-k_3=2$ ромашки, не більш ніж $\tilde{n_4}=n_4-k_4=3$ півонії.

Отже ми отримали задачу, яка містить лише обмеження зверху. Позначивши кількість хризантем, троянд, ромашок і півонй у букеті відповідно через $m_1, m_2, m_3, m_4$, запишемо отримане обмеження у такому вигляді:

$$A=
(m_1 \le 2) \land 
(m_2 \le 2) \land 
(m_3 \le 2) \land 
(m_4 \le 3)
$$

Запишемо обмеження для зворотньої задачі:

$$\lnot A=
(m_1 \ge 3) \lor 
(m_2 \ge 3) \lor 
(m_3 \ge 3) \lor 
(m_4 \ge 4)
$$

Позначаючи через $N(P)$ кількість букетів, які задовольняють умові $P$, із формули для потужності об'єднання (чотирьох) множин у загальному вигляді отримуємо:

$$N(P_1 \lor P_2 \lor P_3 \lor P_4)=
N(P_1) + N(P_2) + N(P_3) + N(P_4) -\\
-N(P_1 \land P_2) - N(P_1 \land P_3) - N(P_1 \land P_4) - N(P_2 \land P_3) - N(P_2 \land P_4) - N(P_3 \land P_4) +\\
+N(P_1 \land P_2 \land P_3) + N(P_1 \land P_2 \land P_4) + N(P_1 \land P_3 \land P_4) + N(P_2 \land P_3 \land P_4)-\\
-N(P_1 \land P_2 \land P_3 \land P_4) 
$$

Зауважимо, що у нашому випадку умова $P_4$ та кон'юнкція будь-яких декількох умов при загальній кількості квітів у букеті $\tilde{n}=3$ є неправдивою, а відповідна кількість букетів дорівнює $0$. Це дозволяє нам записати вираз для $N(\lnot A)$ у наступному вигляді:

$$N(\lnot A) = 
N(m_1 \ge 3) + 
N(m_2 \ge 3) + 
N(m_3 \ge 3)
$$

Не складно побачити, що для кількості квітів  у букеті $\tilde{n}=3$ існує лише по одному букету, який відповідає кожній з умов. Звідки випливає, що:

$$N(\lnot A) = 1+1+1 = 3
$$

Кількість букетів для задачі з формування букетів із $\tilde{n}=3$ квітів чотирьох типів без обмежень (умова обмеження тотожна $1$) обчислюється через формулу для комбінацій з повтореннями:

$$N(1) = \tilde{C_4^3} = C_6^3 = \frac{6!}{3! \cdot 3!} = \frac{6\cdot5\cdot4\cdot3!}{3! \cdot 3!} = 20
$$

Нарешті, остаточний результат отримаємо як різницю:

$$N(1) -N(\lnot A) = 20 -3 =17
$$

#### Відповідь: 17 букетів.